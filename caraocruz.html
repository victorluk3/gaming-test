<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Simulador de Moneda</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: linear-gradient(135deg, #e0f7fa, #e1bee7);
      text-align: center;
      padding: 30px;
    }
    h1 {
      margin-bottom: 20px;
    }
    .controls {
      margin: 20px 0;
    }
    input[type="range"] {
      width: 300px;
    }
    button {
      margin: 10px;
      padding: 12px 24px;
      font-size: 16px;
      cursor: pointer;
      border: none;
      border-radius: 12px;
      background: #673ab7;
      color: white;
      font-weight: bold;
      transition: transform 0.2s, background 0.3s;
    }
    button:hover {
      background: #5e35b1;
      transform: scale(1.05);
    }

    /* --- Moneda --- */
    .coin {
      width: 100px;
      height: 100px;
      margin: 30px auto;
      perspective: 1000px;
    }
    .coin-inner {
      width: 100%;
      height: 100%;
      position: relative;
      transform-style: preserve-3d;
      transition: transform 1s;
    }
    .side {
      position: absolute;
      width: 100%;
      height: 100%;
      border-radius: 50%;
      line-height: 100px;
      font-size: 24px;
      font-weight: bold;
      backface-visibility: hidden;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 4px 10px rgba(0,0,0,0.2);
    }
    .cara {
      background: gold;
      color: black;
    }
    .cruz {
      background: silver;
      color: black;
      transform: rotateY(180deg);
    }

    #results {
      margin-top: 20px;
      text-align: center;
      display: inline-block;
      background: white;
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.2);
      min-width: 280px;
    }
    .stats {
      font-weight: bold;
      margin: 8px 0;
    }
  </style>
</head>
<body>

  <h1>Simulador de Cara o Cruz</h1>

  <div class="controls">
    <label>Probabilidad de <b>cara</b>: <span id="probLabel">50</span>%</label><br>
    <input type="range" id="probSlider" min="1" max="100" value="50">
  </div>

  <!-- Moneda -->
  <div class="coin">
    <div class="coin-inner" id="coin">
      <div class="side cara">Cara</div>
      <div class="side cruz">Cruz</div>
    </div>
  </div>

  <button id="flipBtn">ðŸŽ² Tirar moneda</button>
  <button id="resetBtn">ðŸ”„ Resetear</button>

  <div id="results">
    <div class="stats" id="total">Total de tiros: 0</div>
    <div class="stats" id="caras">Caras: 0 (0%)</div>
    <div class="stats" id="cruces">Cruces: 0 (0%)</div>
  </div>

  <script>
    const probSlider = document.getElementById("probSlider");
    const probLabel = document.getElementById("probLabel");
    const flipBtn = document.getElementById("flipBtn");
    const resetBtn = document.getElementById("resetBtn");
    const coin = document.getElementById("coin");

    const totalEl = document.getElementById("total");
    const carasEl = document.getElementById("caras");
    const crucesEl = document.getElementById("cruces");

    let caras = 0;
    let cruces = 0;

    probSlider.addEventListener("input", () => {
      probLabel.textContent = probSlider.value;
    });

    flipBtn.addEventListener("click", () => {
      const prob = parseInt(probSlider.value);
      const rand = Math.random() * 100;
      let result = rand < prob ? "Cara" : "Cruz";

      // AnimaciÃ³n de giro aleatoria
      let spins = Math.floor(Math.random() * 4) + 3; // entre 3 y 6 vueltas
      if (result === "Cara") {
        coin.style.transform = `rotateY(${spins * 360}deg)`;
        caras++;
      } else {
        coin.style.transform = `rotateY(${spins * 360 + 180}deg)`;
        cruces++;
      }

      actualizarStats();
    });

    resetBtn.addEventListener("click", () => {
      caras = 0;
      cruces = 0;
      coin.style.transform = "rotateY(0deg)";
      actualizarStats();
    });

    function actualizarStats() {
      const total = caras + cruces;
      const caraPct = total > 0 ? ((caras / total) * 100).toFixed(1) : 0;
      const cruzPct = total > 0 ? ((cruces / total) * 100).toFixed(1) : 0;

      totalEl.textContent = `Total de tiros: ${total}`;
      carasEl.textContent = `Caras: ${caras} (${caraPct}%)`;
      crucesEl.textContent = `Cruces: ${cruces} (${cruzPct}%)`;
    }
  </script>

</body>
</html>
